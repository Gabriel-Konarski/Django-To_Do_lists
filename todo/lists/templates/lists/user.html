<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Account</title>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style type="text/css">

        .delete-link {
		    text-decoration: none;
		    font-weight: 900;
		    color: #ff4d4d;
		    font-size: 25px;
		    line-height: 0;
		}

    </style>


</head>
<body class="bg-secondary text-white">

    <nav class="navbar navbar-expand navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand">Your lists</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="{% url 'lists' %}">Home Page</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{% url 'create' %}">Create</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{% url 'account' %}">Account</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

     <div class="card bg-dark text-white mx-auto my-3" style="width: 40rem; padding-left: 20px">
        <div class="card-body">
            <h5 class="card-title" style="text-transform: capitalize;">{{request.user}}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{request.user.email}}</h6>
        </div>
         <h6 class="card-text my-3" style="padding-left: 30px;">You have {{ lists.count }} created lists</h6>
    </div>

    <div class="card bg-dark text-white mx-auto my-3" style="width: 40rem; padding-left: 20px;">
        <div class="card-body">
            <h2 class="card-title">Categories</h2>
        </div>

        <div class="card bg-dark text-white mx-auto my-3 border-0" style="width: 20rem;">
            <div class="card-text my-3">
                    <h4> Used categories: </h4>
                        {% for category in categories %}
                            <div class="list-group-item bg-dark text-white" style=" display: flex; align-items: center; padding-left: 20px; justify-content: space-between;">
                                    {% if category.list_set.count > 0 %}
                                        {{category.name}}
                                    <a class="delete-link" href="{% url 'lists' %}?category={{category.name}}">&#8250;</a>
                                    {% endif %}
                            </div>
                        {% endfor %}
                </div>
            </div>

        <form method="POST" action="">
        {% csrf_token %}
            <div class="card bg-dark text-white mx-auto my-3 border-0" style="width: 20rem;">
                <div class="card-text my-3">
                    <h4> Unused categories: </h4>
                        {% for category in categories %}
                            <div class="list-group-item bg-dark text-white" style=" display: flex; align-items: center; padding-left: 20px; gap: 10%;">

                                {% if category.list_set.count == 0 %}
                                    {{category.name}}
                                    <a class="delete-link" href="{% url 'delete-category' category.id %}">&#215;</a>
                                {% endif %}

                            </div>

                        {% endfor %}
                </div>
            </div>

        </form>

    </div>

    <div class="card bg-dark text-white mx-auto my-3" style="width: 40rem; padding-left: 20px;">
        <div class="card-body">
            <h2 class="card-title">Lists</h2>
        </div>

        <div class="card bg-dark text-white mx-auto my-3 border-0" style="width: 20rem;">
            <div class="card-text my-3">
                    <h4> Your lists: </h4>
                        {% for list in lists %}
                            <div class="list-group-item bg-dark text-white" style=" display: flex; align-items: center; padding-left: 20px; justify-content: space-between;">
                                    {{list.name}}
                                    {{list.category}}
                                    <a class="delete-link" href="">&#8250;</a>
                            </div>
                        {% endfor %}
                </div>
            </div>
    </div>



</body>
</html>